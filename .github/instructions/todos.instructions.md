```instructions
---
applyTo: '**'
---

<todos title="Repository TODOs" agentRequirement="Review steps frequently throughout the conversation and DO NOT stop between steps unless they explicitly require it. Keep the todos updated using the todo_write tool (do not edit this file).">
- [x] diagnose-e2e: Run `npm run e2e` to capture failure output and identify root cause (missing browsers, Playwright CLI, config issues, environment vars). 游댮
- [x] fix-config-or-install: Apply minimal fix: install playwright browsers or adjust scripts/config. Update package.json or Playwright config if needed. 游댮
- [x] run-e2e-verify: Re-run `npm run e2e` to verify tests pass locally. 游릭
- [x] document-change: Add short note in memory/tasks and update todo status. 游릭

- [x] choose-deployment-strategy: Decide whether to (A) build to /docs on main branch and enable Pages from docs, or (B) build to gh-pages branch (via gh-pages package or Action). Document tradeoffs and pick one. 游댮
  _Chose automated deployment on tag push (v*) using GitHub Actions and Pages artifact upload._
- [x] update-build-config: Adjust Vite config and package.json scripts: set base appropriately and set build.outDir to 'output' (we chose 'output'). Add build script that outputs to output if using CLI. 游리
  _Updated `vite.config.ts` to set `base` to env or './' in production and `build.outDir` to 'output'._
- [x] publish-manual-or-automated: Manual: run npm run build, commit output/ to main, enable Pages in repo settings. Automated: add GitHub Action to build and push output to Pages on tag push. We implemented the automated GitHub Action. 游리
  _Added `.github/workflows/pages.yml` to build on tag `v*` and upload the `output` folder to GitHub Pages using official actions._
- [ ] verify-and-fix-routes-assets: Verify the deployed site works (assets load, base path correct). If problems, change Vite base to '/REPO_NAME/' or './' for relative and rebuild, then re-deploy. 游릭
  _Manual verification required after a tag deployment to confirm asset paths._
- [x] set-custom-base-workflow: Update Actions workflow to set CUSTOM_BASE env to '/mining-drones-idle/' so the CI build uses the correct base path for this repo. 游리
  _Workflow updated to set CUSTOM_BASE: '/mining-drones-idle/' during the build step._

- [x] diagnose-npm-ci: Run npm ci, capture error, and identify root cause 游댮
- [x] fix-package-lock: Apply minimal fix (update lockfile, fix package.json, or patch eslint.config) based on error 游댮
- [x] run-npm-ci-verify: Re-run npm ci and run tests to verify fix 游리
- [-] update-memory: Record changes and update memory/tasks if needed 游릭
</todos>

<!-- Auto-generated todo section -->
<!-- Add your custom Copilot instructions below -->

```
---
